<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <title>State Request</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <style>
      body, * {
        font-family: 'GE SS Unique', sans-serif !important;
      }
      .hidden-table {
        display: none;
      }
      .active-tab {
        background-color: #5b21b6; /* violet-800 */
        color: white;
      }
      .inactive-tab {
        background-color: #e9d5ff; /* violet-200 */
        color: #5b21b6; /* violet-900 */
      }
      .summary-card {
        background-color: #f3f4f6; /* gray-100 */
        border-radius: 0.75rem; /* rounded-xl */
        padding: 1rem; /* p-4 */
        margin-top: 0.5rem; /* mt-2 */
        /* Mobile: Two per row */
        flex: 0 0 calc(50% - 8px); /* 50% width minus half of the gap (gap-4 is 16px total) */
        box-sizing: border-box; /* Include padding and border in the element's total width and height */
      }

      /* Medium screens and up: flex-1 */
      @media (min-width: 768px) { /* md breakpoint */
        .summary-card {
          flex: 1; /* Revert to flex-1 to take up equal space */
          width: auto; /* Reset width */
        }
      }
    </style>
</head>
<body class="bg-white min-h-screen">
    <!-- Navbar -->
    <div id="navbar-container"></div>
    
    <!-- Tabs with Summary Cards -->
    <div class="px-4 md:px-8 mt-[100px]">
        <div class="flex gap-2 md:gap-4 mb-4 md:mb-2 flex-wrap justify-center md:justify-start"> <!-- Allow tabs to wrap and adjust gap -->
            <button onclick="showTable('all')" class="active-tab px-3 py-1 md:px-4 md:py-2 rounded-lg font-bold text-sm md:text-base">All</button>
            <button onclick="showTable('in-progress')" class="inactive-tab px-3 py-1 md:px-4 md:py-2 rounded-lg font-bold text-sm md:text-base">In Progress</button>
            <button onclick="showTable('on-hold')" class="inactive-tab px-3 py-1 md:px-4 md:py-2 rounded-lg font-bold text-sm md:text-base">On Hold</button>
            <button onclick="showTable('completed')" class="inactive-tab px-3 py-1 md:px-4 md:py-2 rounded-lg font-bold text-sm md:text-base">Completed</button>
            <button onclick="showTable('not-finalized')" class="inactive-tab px-3 py-1 md:px-4 md:py-2 rounded-lg font-bold text-sm md:text-base">Not finalized</button>
        </div>

        <!-- Summary Cards Row -->
        <div class="flex flex-row flex-wrap gap-4 mb-6"> <!-- Use flex-row and allow wrapping -->
            <div class="summary-card w-full sm:w-1/2 md:flex-1"> <!-- Take full width on small, half on sm, flex-1 on medium+ -->
                <div class="flex justify-between items-center">
                    <span class="font-bold text-violet-900">Total Requests</span>
                    <span class="bg-violet-700 text-white rounded-full px-2 py-1 text-sm">24</span>
                </div>
                <div class="mt-2 text-sm text-gray-600">All requests in the system</div>
            </div>
            
            <div class="summary-card w-full sm:w-1/2 md:flex-1"> <!-- Take full width on small, half on sm, flex-1 on medium+ -->
                <div class="flex justify-between items-center">
                    <span class="font-bold text-violet-900">In Progress</span>
                    <span class="bg-violet-700 text-white rounded-full px-2 py-1 text-sm">6</span>
                </div>
                <div class="mt-2 text-sm text-gray-600">Requests being processed</div>
            </div>
            
            <div class="summary-card w-full sm:w-1/2 md:flex-1"> <!-- Take full width on small, half on sm, flex-1 on medium+ -->
                <div class="flex justify-between items-center">
                    <span class="font-bold text-violet-900">On Hold</span>
                    <span class="bg-violet-700 text-white rounded-full px-2 py-1 text-sm">3</span>
                </div>
                <div class="mt-2 text-sm text-gray-600">Requests pending action</div>
            </div>
            
            <div class="summary-card w-full sm:w-1/2 md:flex-1"> <!-- Take full width on small, half on sm, flex-1 on medium+ -->
                <div class="flex justify-between items-center">
                    <span class="font-bold text-violet-900">Completed</span>
                    <span class="bg-violet-700 text-white rounded-full px-2 py-1 text-sm">12</span>
                </div>
                <div class="mt-2 text-sm text-gray-600">Finished requests</div>
            </div>
            
            <div class="summary-card w-full sm:w-1/2 md:flex-1"> <!-- Take full width on small, half on sm, flex-1 on medium+ -->
                <div class="flex justify-between items-center">
                    <span class="font-bold text-violet-900">Not Finalized</span>
                    <span class="bg-violet-700 text-white rounded-full px-2 py-1 text-sm">3</span>
                </div>
                <div class="mt-2 text-sm text-gray-600">Pending final approval</div>
            </div>
        </div>
    </div>

    <!-- Tables Section (same as before) -->
    <div id="all-tables">
        <!-- In Progress Table -->
        <div class="mb-8 px-8">
            <div class="overflow-x-auto rounded-xl border border-violet-200">
                <table class="min-w-full text-center">
                    <thead class="bg-violet-100 text-violet-900">
                        <tr>
                            <th class="py-3 px-2">Reference Number</th>
                            <th class="py-3 px-2">Last Name</th>
                            <th class="py-3 px-2">First Name</th>
                            <th class="py-3 px-2">School</th>
                            <th class="py-3 px-2">Program</th>
                            <th class="py-3 px-2">Year</th>
                            <th class="py-3 px-2">Start Date</th>
                            <th class="py-3 px-2">Status</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white">
                        <tr class="border-b border-violet-100">
                            <td class="py-3 px-2">REF-2023-001</td>
                            <td class="py-3 px-2">Smith</td>
                            <td class="py-3 px-2">John</td>
                            <td class="py-3 px-2">Engineering</td>
                            <td class="py-3 px-2">Computer Science</td>
                            <td class="py-3 px-2">3rd</td>
                            <td class="py-3 px-2">2023-09-01</td>
                            <td class="py-3 px-2">
                                <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">In Progress</span>
                            </td>
                        </tr>
                        <!-- More rows... -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Other tables... -->
    </div>

    <!-- Individual Tables (hidden by default) -->
    <div id="in-progress-table" class="hidden-table mb-8 px-8">
        <div class="overflow-x-auto rounded-xl border border-violet-200">
            <table class="min-w-full text-center">
                <thead class="bg-violet-100 text-violet-900">
                    <tr>
                        <th class="py-3 px-2">Reference Number</th>
                        <th class="py-3 px-2">Last Name</th>
                        <th class="py-3 px-2">First Name</th>
                        <th class="py-3 px-2">School</th>
                        <th class="py-3 px-2">Program</th>
                        <th class="py-3 px-2">Year</th>
                        <th class="py-3 px-2">Start Date</th>
                        <th class="py-3 px-2">Status</th>
                    </tr>
                </thead>
                <tbody class="bg-white">
                    <!-- Sample data for In Progress -->
                    <tr class="border-b border-violet-100">
                        <td class="py-3 px-2">REF-2023-001</td>
                        <td class="py-3 px-2">Smith</td>
                        <td class="py-3 px-2">John</td>
                        <td class="py-3 px-2">Engineering</td>
                        <td class="py-3 px-2">Computer Science</td>
                        <td class="py-3 px-2">3rd</td>
                        <td class="py-3 px-2">2023-09-01</td>
                        <td class="py-3 px-2">
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">In Progress</span>
                        </td>
                    </tr>
                    <!-- More rows... -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>

    <script>
        // Tab functionality
        function showTable(tableId) {
            // Hide all tables
            document.querySelectorAll('[id$="-table"]').forEach(table => {
                table.classList.add('hidden-table');
            });
            document.getElementById('all-tables').classList.add('hidden-table');
            
            // Show selected table
            if (tableId === 'all') {
                document.getElementById('all-tables').classList.remove('hidden-table');
            } else {
                document.getElementById(tableId + '-table').classList.remove('hidden-table');
            }
            
            // Update tab styles
            document.querySelectorAll('.flex.gap-4 button').forEach(button => {
                button.classList.remove('active-tab');
                button.classList.add('inactive-tab');
            });
            
            // Set active tab
            event.currentTarget.classList.remove('inactive-tab');
            event.currentTarget.classList.add('active-tab');
        }

        // Load navbar and footer
        fetch("./navbar.html")
            .then((response) => response.text())
            .then((data) => {
                document.getElementById("navbar-container").innerHTML = data;
                // Initialize navbar functionality
                loadNavbar();
            });
            
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });
    </script>
</body>
</html>